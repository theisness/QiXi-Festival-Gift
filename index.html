<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- use love heart for favicon -->
    <link rel="icon"
        href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23FF3366'%3E%3Cpath d='M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z'/%3E%3C/svg%3E"
        type="image/svg+xml">

    <title>七夕特别礼物</title>
    <link href="font-awesome.min.css" rel="stylesheet">
    <link href="dancing-script.css" rel="stylesheet">
    <link rel="stylesheet" href="dist/output.css">

</head>

<body class="min-h-screen color-transition overflow-hidden relative">
    <!-- 加载界面 -->
    <div id="loading-screen"
        class="fixed inset-0 z-[9999] bg-gradient-to-br from-love-pink via-love-purple to-love-blue flex flex-col items-center justify-center">
        <div class="text-center">
            <!-- 加载动画 -->
            <div class="mb-8">
                <div class="loading-heart text-white text-8xl mb-4">
                    <i class="fa fa-heart"></i>
                </div>
                <h1 class="font-romantic text-white text-3xl font-bold mb-2">七夕特别礼物</h1>
                <p class="text-white/80 text-lg">正在准备浪漫时光...</p>
            </div>

            <!-- 进度条容器 -->
            <div class="w-80 bg-white/20 rounded-full h-3 mb-4 overflow-hidden backdrop-blur-sm">
                <div id="progress-bar" class="h-full rounded-full transition-all duration-500 ease-out"
                    style="width: 0%"></div>
            </div>

            <!-- 进度文本 -->
            <div class="text-white/90 font-medium">
                <span id="progress-text">0%</span>
                <span class="ml-2">资源加载中...</span>
            </div>

            <!-- 加载详情 -->
            <div id="loading-details" class="mt-6 text-white/70 text-sm bg-white/10 backdrop-blur-sm rounded-lg p-4">
                <div class="flex items-center justify-between mb-3">
                    <span class="flex items-center">
                        <i class="fa fa-image mr-2 text-love-pink"></i>
                        图片资源
                    </span>
                    <span id="image-progress" class="text-love-pink font-bold">0/7</span>
                </div>
                <div class="flex items-center justify-between">
                    <span class="flex items-center">
                        <i class="fa fa-music mr-2 text-love-pink"></i>
                        音乐资源
                    </span>
                    <span id="music-progress" class="text-love-pink font-bold">0/4</span>
                </div>
                <!-- 开始游戏按钮 -->
                <div class="mt-4 text-center">
                    <button id="start-game"
                        class="bg-white/20 hover:bg-white/30 text-white px-4 py-2 rounded-full text-sm transition-colors duration-300 opacity-50 cursor-not-allowed" disabled>
                        <i class="fa fa-play mr-2"></i>开始游戏
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- 音乐播放器 -->
    <div class="music-player">
        <div class="flex items-center gap-3">
            <button id="music-toggle" class="music-control-btn" title="播放/暂停音乐">
                <i class="fa fa-play"></i>
            </button>
            <button id="music-next" class="music-control-btn" style="width: 40px; height: 40px; font-size: 16px;"
                title="下一首音乐">
                <i class="fa fa-forward"></i>
            </button>
        </div>
        <div class="volume-control">
            <i class="fa fa-volume-up text-love-pink text-sm"></i>
            <input type="range" id="volume-slider" class="volume-slider" min="0" max="100" value="50" title="音量控制">
        </div>
        <div class="mt-2 text-center">
            <span id="music-title" class="text-xs text-love-pink font-medium">Love paradise</span>
        </div>
        <div class="music-visualizer">
            <div class="music-bar"></div>
            <div class="music-bar"></div>
            <div class="music-bar"></div>
            <div class="music-bar"></div>
            <div class="music-bar"></div>
        </div>
    </div>

    <!-- 背景音乐 -->
    <audio id="bg-music" loop preload="auto">
        <source src="music/1.mp3" type="audio/wav">
        您的浏览器不支持音频播放。
    </audio>

    <!-- 备用浪漫音乐 -->
    <audio id="romantic-music-1" loop preload="auto">
        <source src="music/2.mp3" type="audio/wav">
    </audio>

    <audio id="romantic-music-2" loop preload="auto">
        <source src="music/3.mp3" type="audio/wav">
    </audio>

    <audio id="romantic-music-3" loop preload="auto">
        <source src="music/4.mp3" type="audio/wav">
    </audio>

    <!-- 背景装饰 -->
    <div class="fixed inset-0 z-0 opacity-20">
        <div class="absolute top-10 left-10 text-love-pink text-6xl heart-beat">
            <i class="fa fa-heart"></i>
        </div>
        <div class="absolute top-20 right-20 text-love-red text-5xl heart-beat" style="animation-delay: 0.3s">
            <i class="fa fa-heart"></i>
        </div>
        <div class="absolute bottom-40 left-20 text-love-purple text-4xl heart-beat" style="animation-delay: 0.6s">
            <i class="fa fa-heart"></i>
        </div>
        <div class="absolute bottom-20 right-40 text-love-blue text-5xl heart-beat" style="animation-delay: 0.9s">
            <i class="fa fa-heart"></i>
        </div>
    </div>

    <!-- 星星装饰 -->
    <div id="stars" class="fixed inset-0 z-0 pointer-events-none"></div>

    <!-- 游戏标题 -->
    <div class="relative z-10 text-center pt-10 md:pt-20">
        <h1 class="font-romantic text-[clamp(2rem,5vw,3.5rem)] text-love-red font-bold text-shadow float">
            给夫人的七夕心动挑战
        </h1>
        <p class="mt-4 text-gray-700 font-romantic text-[clamp(1.2rem,3vw,1.8rem)]">
            点击飘落的爱心，收集7颗心动
        </p>
        <div class="mt-6 flex justify-center gap-2" id="progress-container">
            <!-- 进度指示器将在这里动态生成 -->
        </div>
    </div>

    <!-- 爱心容器 -->
    <div id="hearts-container" class="relative w-full h-[60vh] overflow-hidden"></div>

    <!-- 祝福信息 (默认隐藏) -->
    <div id="message"
        class="fixed inset-0 z-50 flex items-center justify-center opacity-0 pointer-events-none transition-opacity duration-1000">
        <!-- 美轮美奂的背景 -->
        <div class="beautiful-bg absolute inset-0"></div>
        <div class="message-bg rounded-2xl p-8 md:p-12 max-w-2xl w-full mx-4 transform scale-95 transition-transform duration-1000 message-appear relative z-10"
            style="box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3), 0 0 40px rgba(255, 107, 139, 0.2);">
            <div class="message-content text-center">
                <div class="flex justify-center mb-6">
                    <i class="fa fa-heart text-love-red text-5xl heart-beat"></i>
                </div>
                <h2 class="font-romantic text-[clamp(1.8rem,4vw,2.5rem)] text-love-purple mb-4"
                    style="text-shadow: 0 4px 8px rgba(0, 0, 0, 0.3), 0 0 20px rgba(201, 85, 232, 0.5);">亲爱的宝贝</h2>
                <p class="font-romantic text-[clamp(1.2rem,3vw,1.6rem)] text-gray-700 leading-relaxed mb-6">
                    七夕快乐！<br>
                    感谢你出现在我的生命里，<br>
                    每一天有你的陪伴都是幸福的。<br>
                    愿我们永远像天上的牛郎织女，<br>
                    我爱你，不止七夕，而是朝朝夕夕。
                </p>
                <div class="mt-8">
                    <button id="restart-btn"
                        class="bg-love-pink hover:bg-love-red text-white font-romantic text-xl py-3 px-8 rounded-full transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-1 hover:scale-105"
                        style="box-shadow: 0 8px 25px rgba(255, 107, 139, 0.4), 0 0 20px rgba(255, 107, 139, 0.2);">
                        再玩一次
                    </button>
                </div>
            </div>

            <!-- 轮播指示器 -->
            <div class="carousel-indicator">
                <div class="carousel-dot active" data-index="0"></div>
                <div class="carousel-dot" data-index="1"></div>
                <div class="carousel-dot" data-index="2"></div>
                <div class="carousel-dot" data-index="3"></div>
                <div class="carousel-dot" data-index="4"></div>
                <div class="carousel-dot" data-index="5"></div>
                <div class="carousel-dot" data-index="6"></div>
            </div>
        </div>
    </div>

    <script src="game.js"></script>
</body>

</html>